"use client";
import { useEffect } from "react"; export default function Translate() { useEffect(() => { // Load Google Translate script const id = "google-translate-script"; if (!document.getElementById(id)) { const s = document.createElement("script"); s.id = id; s.src = "//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"; document.head.appendChild(s); // @ts-ignore window.googleTranslateElementInit = function () { // @ts-ignore new window.google.translate.TranslateElement({ pageLanguage: 'en', layout: window.google.translate.TranslateElement.InlineLayout.SIMPLE }, 'google_translate_element'); }; } }, []); const setLang = (lang) => { const sel = document.querySelector('#google_translate_element select'); if (!sel) { const iframe = document.querySelector('iframe.goog-te-menu-frame'); if (iframe && iframe.contentDocument) { const sel2 = iframe.contentDocument.querySelector('select'); if (sel2) { sel2.value = lang; sel2.dispatchEvent(new Event('change')); } } return; } sel.value = lang; sel.dispatchEvent(new Event('change')); }; return ( <div className="flex items-center space-x-2"> <div id="google_translate_element" /> <button onClick={() => setLang('en')} className="px-2 py-1 border rounded text-sm">EN</button> <button onClick={() => setLang('hi')} className="px-2 py-1 border rounded text-sm">HI</button> </div> );
}
